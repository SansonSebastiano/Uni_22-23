<form id="newPlayer" method="post" action="nuovoGiocatore.php" onsubmit="return formValidation()">
    
    <messaggiForm/>

    <fieldset>
        <legend>Informazioni generali</legend>

        <div>
            <label for="nome">Nome e Cognome:</label>
            <input type="text" name="nome" id="nome"  value="<valoreNome/>" maxlength="50" onblur="checkNome()"/>
        </div>

        <div>
            <label for="data">Data:</label> 
            <input type="date" name="data" id="data" value="<valoreData/>" maxlength="10" required/>
        </div>

        <div>
            <label for="luogo">Luogo:</label>
            <input type="text" name="luogo" id="luogo" value="<valoreLuogo/>" maxlength="20" required/>
        </div>
    </fieldset>

    <fieldset>
        <legend>Ruolo di capitano</legend>
			<div>
				<label for="capitano_si">Si</label>
				<input type="radio" name="capitano" id="capitano_si" value="1">
			</div>
			<div>
				<label for="capitano_no">No</label>
				<input type="radio" name="capitano" id="capitano_no" value="0" checked>
			</div>
    </fieldset>

    <fieldset>
        <legend>Dati giocatore</legend>
        <div>
            <label for="squadra">Squadra:</label>
            <input type="text" name="squadra" id="squadra" value="" maxlength="20"/>
        </div>

        <div>
            <label for="ruolo">Ruolo:</label> <!-- da cambiare in select -->
            <input type="text" name="ruolo" id="ruolo" value="" maxlength="20"/>
        </div>

        <div>
            <label for="altezza">Altezza (cm):</label>
            <input type="number" name="altezza" id="altezza" min="130" max="250"/>
        </div>

        <div>
            <label for="maglia">Maglia:</label>
            <input type="number" name="maglia" id="maglia" min="1" max="99"/>
        </div>

        <div>
            <label for="magliaNazionale">Maglia Nazionale:</label>
            <input type="number" name="magliaNazionale" id="magliaNazionale" min="1" max="99"/>
        </div>

        <div>
            <label for="puntiTot">Punti Totali:</label>
            <input type="number" name="peso" id="peso" min="0"/>
        </div>
    </fieldset>

    <fieldset>
        <legend for="riconoscimenti">Riconoscimenti</legend>
        <textarea name="riconoscimenti" id="riconoscimenti" cols="30" rows="10"></textarea>
    </fieldset>

    <fieldset>
        <legend for="note">Note</legend>
        <textarea name="note" id="note" cols="30" rows="10"></textarea>
    </fieldset>

    <fieldset>
        <legend>Immagine</legend>
        <input type="file" name="immagine" id="immagine">
    </fieldset>

    <fieldset>
        <legend>Conferma</legend>
        <input type="submit" value="Inserisci" onclick="validateForm()">
        <input type="reset" value="Cancella" onclick="resetForm()">
    </fieldset>
</form>

<!--DA SISTEMARE-->

<script>
    // check if a field is empty
    function isEmpty(field, alertMsg) {
        if (field == "") {
            alert(alertMsg);
            return true;
        } else {
            return false;
        }
    }
</script>

<script>
    function validateForm() {
        alertMsg = " non puo' essere vuoto";
        // check if name field is empty
        var name = document.forms["newPlayer"]["nome"].value;
        if (isEmpty(name, "Il nome" + alertMsg)) return false;
        else {
            // check if name field contain only letters and one empty space
            var regex = /^[a-zA-Z]+ [a-zA-Z]+$/;
            if (!regex.test(name)) {
                alert("Il nome deve contenere solo lettere");
                return false;
            }
        }

        // check if date field is empty
        var date = document.forms["newPlayer"]["data"].value;
        if (isEmpty(date, "La data" + alertMsg)) return false;

        // check if place field is empty
        var place = document.forms["newPlayer"]["luogo"].value;
        if (isEmpty(place, "Il luogo" + alertMsg)) return false;
        else {
            // check if place field contain only letters
            var regex = /^[a-zA-Z]+$/;
            if (!regex.test(place)) {
                alert("Il luogo deve contenere solo lettere");
                return false;
            }
        }


    }
</script>

<script>
    function resetForm() {
        document.getElementById("newPlayer").reset();
    }
</script>

<!--
    - array associativo contenente i campi da controllare, i rispettivi criteri di validazione e messaggi di errore
    - caricamento :
        - campoDefault(input)
        - campoPerInput(input)
        - validazioneCampo(input)
        - messaggioErrore(input)
-->